<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/mublog/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/mublog/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="木糖不爱吃糖" href="https://evilmood.github.io/mublog/rss.xml"><link rel="alternate" type="application/atom+xml" title="木糖不爱吃糖" href="https://evilmood.github.io/mublog/atom.xml"><link rel="alternate" type="application/json" title="木糖不爱吃糖" href="https://evilmood.github.io/mublog/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=ZCOOL%20KuaiLe:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7Cyin:300,300italic,400,400italic,700,700italic%7CJetBrains%20Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/mublog/css/app.css?v=0.2.5"><link rel="canonical" href="https://evilmood.github.io/mublog/interview/CSS"><title>CSS | Evil MoOd = 木糖不爱吃糖 = 山有木兮木有枝，心悦君兮君不知</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">CSS</h1></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/mublog/" rel="start">Evil MoOd</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://pic.imgdb.cn/item/65c59c189f345e8d03b98804.jpg"></li><li class="item" data-background-image="https://pic.imgdb.cn/item/65c59bb09f345e8d03b8d73e.jpg"></li><li class="item" data-background-image="https://pic.imgdb.cn/item/65c59d0a9f345e8d03bb087f.png"></li><li class="item" data-background-image="https://pic.imgdb.cn/item/65c59b919f345e8d03b8a37e.jpg"></li><li class="item" data-background-image="https://pic.imgdb.cn/item/65c59cee9f345e8d03badc39.jpg"></li><li class="item" data-background-image="https://pic.imgdb.cn/item/65c59ccc9f345e8d03baa39f.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="page wrap"><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://evilmood.github.io/mublog/interview/CSS.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/mublog/images/avatar.jpg"><meta itemprop="name" content="EvilMoOd"><meta itemprop="description" content="山有木兮木有枝，心悦君兮君不知, 摸鱼是第一生产力"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="木糖不爱吃糖"></span><div class="body md" itemprop="articleBody"><h2 id="概念"><a class="anchor" href="#概念">#</a> 概念</h2><details class="primary"><summary>选择器权重</summary><div><p>!important [Infinity]&gt; 内联 [1000]&gt;id [100]&gt; 类、伪类、属性 [10]&gt; 元素、伪元素 [1]&gt; 通配符、组合 (后代、子代、兄弟)、伪类:not [0]</p></div></details><details class="primary"><summary>继承和非继承属性有哪些</summary><div><p>非继承：</p><ol><li>display</li><li>文本属性：vertical-align、text-decoration、text-shadow、white-space、unicode-bidi</li><li>盒子模型：width、height、、max/min-height、max/min-width、margin、padding、border</li><li>背景属性：background 及其属性</li><li>定位属性：float、clear、position、top/left/right/bottom、overflow、clip、z-index</li><li>生成内容属性：content、counter-reset、counter-increment</li><li>轮廓样式属性：outline-style、outline-width、outline-color、outline</li><li>页面样式属性：size、page-break-before、page-break-after</li><li>声音样式属性：pause-before、pause-after、pause、cue-before、cue-after、cue、play-during</li></ol><p>继承：</p><ol><li>字体系列属性：font-family、font-weight、font-size、font-style</li></ol><p>文本系列属性：text-indent、text-align、line-height、word-spacing、letter-spacing、text-transform、color</p><p>元素可见性：visibility</p><p>列表布局属性：list-style、包括 list-style-type、list-style-image 等</p><p>光标属性：cursor</p></div></details><details class="primary"><summary>BFC(还有IFC、FFC、GFC，自行百度)</summary><div><p>BFC，块级格式化上下文，页面盒模型中一块独立的渲染区域，是独立布局的，盒子里面的子元素的样式不会影响到外面的元素。但在同一个 BFC 中的两个邻的块级盒在垂直方向（和布局方向有关系）的 margin 会发生折叠。<br><code>创建方式</code></p><ol><li>html 根元素</li><li>float 不为 none</li><li>position 为 absolute、fixed 或 sticky</li><li>overflow 不为 visible 或 clip</li><li>display：table（table-cell、table-caption）或 inline-block 或 flow-root 或 list-item，flex（flex、inline-flex）或 grid（grid、inline-gird）的子元素</li><li>contain 值为 layout 或 content 或 paint 或 strict</li><li>column-span 为 all</li></ol><div class="note info no-icon"><p>display: flow-root，contain: layout 等是无副作用的，可在不影响已有布局的情况下触发 BFC。</p></div><p><code>解决：</code></p><ol><li>margin 塌陷</li><li>清除浮动</li></ol></div></details><details class="primary"><summary>display：none、visible：hidden、opacity：0区别</summary><div><ol><li>完全隐藏 dom 元素，不占空间，无法触发事件，回流</li><li>隐藏 dom 元素但保留空间，无法触发事件，重绘</li><li>隐藏 dom 元素且保留空间，可以触发事件，重绘</li></ol></div></details><details class="primary"><summary>link和@import区别</summary><div><ol><li>link 属于 HTML 标签，而 @import 是 CSS 语句，所以 link 还可以引入网站图标等操作</li><li>link 会在页面加载时同时加载，@import 则会等到其引入的 css 文件加载完成之后在加载当前 css 文件</li><li>link 权重高于 @import</li></ol></div></details><details class="primary"><summary>百分比机制</summary><div><table><thead><tr><th>子元素</th><th>父元素</th></tr></thead><tbody><tr><td>width</td><td>父级的 width</td></tr><tr><td>height</td><td>父级的 height</td></tr><tr><td>margin(top,right,bottom,left)</td><td>父级的 width</td></tr><tr><td>padding(top,right,bottom,left)</td><td>父级的 width</td></tr><tr><td>border(top,right,bottom,left)</td><td>父级的 width</td></tr><tr><td>position 为 absolute 时的 left,top,right,bottom</td><td>元素的 width,height,width,height</td></tr><tr><td>position 为 relative 时的 left,top,right,bottom</td><td>自身的 width,height,width,height</td></tr><tr><td>font-size</td><td>父元素的 font-size</td></tr><tr><td>line-height</td><td>自身的 font-size</td></tr><tr><td>transform(left,top)</td><td>自身的 width,height</td></tr></tbody></table></div></details><details class="primary"><summary>JS动画和CSS动画区别</summary><div><p>JS 在主线程执行动画，而 CSS 在 compositor 线程执行</p></div></details><details class="primary"><summary>requestAnimationFrame的优点</summary><div><ol><li>CPU 节能：使用 SetTinterval 实现的动画，当页面被隐藏或最小化时，SetTinterval 仍然在后台执行动画任务，由于此时页面处于不可见或不可用状态，刷新动画是没有意义的，完全是浪费 CPU 资源。而 RequestAnimationFrame 则完全不同，当页面处理未激活的状态下，该页面的屏幕刷新任务也会被系统暂停，因此跟着系统走的 RequestAnimationFrame 也会停止渲染，当页面被激活时，动画就从上次停留的地方继续执行，有效节省了 CPU 开销。</li><li>函数节流：在高频率事件 (resize, scroll 等) 中，为了防止在一个刷新间隔内发生多次函数执行，RequestAnimationFrame 可保证每个刷新间隔内，函数只被执行一次，这样既能保证流畅性，也能更好的节省函数执行的开销，一个刷新间隔内函数执行多次时没有意义的，因为多数显示器每 16.7ms 刷新一次，多次绘制并不会在屏幕上体现出来。</li><li>减少 DOM 操作：requestAnimationFrame 会把每一帧中的所有 DOM 操作集中起来，在一次重绘或回流中就完成，并且重绘或回流的时间间隔紧紧跟随浏览器的刷新频率，一般来说，这个频率为每秒 60 帧。</li></ol></div></details><details class="primary"><summary>为什么有时候⽤translate来改变位置⽽不是定位？</summary><div><p>改变 transform 或 opacity 不会触发浏览器重新布局（reflow）或重绘（repaint），只会触发复合（compositions）。⽽改变绝对定位会触发重新布局，进⽽触发重绘和复合。transform 使浏览器为元素创建⼀个 GPU 图层，但改变绝对定位会使⽤到 CPU。 因此 translate () 更⾼效，可以缩短平滑动画的绘制时间。 ⽽ translate 改变位置时，元素依然会占据其原始空间，绝对定位就不会发⽣这种情况。</p></div></details><details class="primary"><summary>常见的图片格式及使用场景</summary><div><ol><li>BMP，是无损的、既支持索引色也支持直接色的点阵图。这种图片格式几乎没有对数据进行压缩，所以 BMP 格式的图片通常是较大的文件。</li><li>GIF 是无损的、采用索引色的点阵图。采用 LZW 压缩算法进行编码。文件小，是 GIF 格式的优点，同时，GIF 格式还具有支持动画以及透明的优点。但是 GIF 格式仅支持 8bit 的索引色，所以 GIF 格式适用于对色彩要求不高同时需要文件体积较小的场景。</li><li>JPEG 是有损的、采用直接色的点阵图。JPEG 的图片的优点是采用了直接色，得益于更丰富的色彩，JPEG 非常适合用来存储照片，与 GIF 相比，JPEG 不适合用来存储企业 Logo、线框类的图。因为有损压缩会导致图片模糊，而直接色的选用，又会导致图片文件较 GIF 更大。</li><li>PNG-8 是无损的、使用索引色的点阵图。PNG 是一种比较新的图片格式，PNG-8 是非常好的 GIF 格式替代者，在可能的情况下，应该尽可能的使用 PNG-8 而不是 GIF，因为在相同的图片效果下，PNG-8 具有更小的文件体积。除此之外，PNG-8 还支持透明度的调节，而 GIF 并不支持。除非需要动画的支持，否则没有理由使用 GIF 而不是 PNG-8。</li><li>PNG-24 是无损的、使用直接色的点阵图。PNG-24 的优点在于它压缩了图片的数据，使得同样效果的图片，PNG-24 格式的文件大小要比 BMP 小得多。当然，PNG24 的图片还是要比 JPEG、GIF、PNG-8 大得多。</li><li>SVG 是无损的矢量图。SVG 是矢量图意味着 SVG 图片由直线和曲线以及绘制它们的方法组成。当放大 SVG 图片时，看到的还是线和曲线，而不会出现像素点。SVG 图片在放大时，不会失真，所以它适合用来绘制 Logo、Icon 等。</li><li>WebP 是谷歌开发的一种新图片格式，WebP 是同时支持有损和无损压缩的、使用直接色的点阵图。从名字就可以看出来它是为 Web 而生的，什么叫为 Web 而生呢？就是说相同质量的图片，WebP 具有更小的文件体积。现在网站上充满了大量的图片，如果能够降低每一个图片的文件大小，那么将大大减少浏览器和服务器之间的数据传输量，进而降低访问延迟，提升访问体验。目前只有 Chrome 浏览器和 Opera 浏览器支持 WebP 格式，兼容性不太好。</li></ol><p>在无损压缩的情况下，相同质量的 WebP 图片，文件大小要比 PNG 小 26%；<br>在有损压缩的情况下，具有相同图片精度的 WebP 图片，文件大小要比 JPEG 小 25%~34%；<br>WebP 图片格式支持图片透明度，一个无损压缩的 WebP 图片，如果要支持透明度只需要 22% 的格外文件大小。</p></div></details><details class="primary"><summary>CSS性能优化</summary><div><ol><li>少写表达式</li><li>少写高级选择器、通配选择器</li><li>硬件加速</li><li>requestAnimationFrame 动画</li></ol><p>加载性能：</p><ol><li>css 压缩：将写好的 css 进行打包压缩，可以减小文件体积。</li><li>css 单一样式：当需要下边距和左边距的时候，很多时候会选择使用 margin:top 0 bottom 0；但 margin-bottom:bottom;margin-left:left; 执行效率会更高。</li><li>减少使用 @import，建议使用 link，因为后者在页面加载时一起加载，前者是等待页面加载完成之后再进行加载。</li><li></li></ol><p>选择器性能：</p><ol><li>关键选择器（key selector）。选择器的最后面的部分为关键选择器（即用来匹配目标元素的部分）。CSS 选择符是从右到左进行匹配的。当使用后代选择器的时候，浏览器会遍历所有子元素来确定是否是指定的元素等等；</li><li>如果规则拥有 ID 选择器作为其关键选择器，则不要为规则增加标签。过滤掉无关的规则（这样样式系统就不会浪费时间去匹配它们了）。</li><li>避免使用通配规则，如 *{} 计算次数惊人，只对需要用到的元素进行选择。</li><li>尽量少的去对标签进行选择，而是用 class。</li><li>尽量少的去使用后代选择器，降低选择器的权重值。后代选择器的开销是最高的，尽量将选择器的深度降到最低，最高不要超过三层，更多的使用类来关联每一个标签元素。</li><li>了解哪些属性是可以通过继承而来的，然后避免对这些属性重复指定规则。</li></ol><p>渲染性能：</p><ol><li>慎重使用高性能属性：浮动、定位。</li><li>尽量减少页面重排、重绘。</li><li>去除空规则：｛｝。空规则的产生原因一般来说是为了预留样式。去除这些空规则无疑能减少 css 文档体积。</li><li>属性值为 0 时，不加单位。</li><li>属性值为浮动小数 0.**，可以省略小数点之前的 0。</li><li>标准化各种浏览器前缀：带浏览器前缀的在前。标准属性在后。</li><li>不使用 @import 前缀，它会影响 css 的加载速度。</li><li>选择器优化嵌套，尽量避免层级过深。</li><li>css 雪碧图，同一页面相近部分的小图标，方便使用，减少页面的请求次数，但是同时图片本身会变大，使用时，优劣考虑清楚，再使用。</li><li>正确使用 display 的属性，由于 display 的作用，某些样式组合会无效，徒增样式体积的同时也影响解析性能。</li><li>不滥用 web 字体。对于中文网站来说 WebFonts 可能很陌生，国外却很流行。web fonts 通常体积庞大，而且一些浏览器在下载 web fonts 时会阻塞页面渲染损伤性能。</li></ol><p>可维护性、健壮性：</p><ol><li>将具有相同属性的样式抽离出来，整合并通过 class 在页面中进行使用，提高 css 的可维护性。</li><li>样式与内容分离：将 css 代码定义到外部 css 中。</li></ol></div></details><details class="primary"><summary>z-index什么情况下会失效</summary><div><ul><li>父元素 position 为 relative 时，子元素的 z-index 失效。解决：父元素 position 改为 absolute 或 static；</li><li>元素没有设置 position 属性为非 static 属性。解决：设置该元素的 position 属性为 relative，absolute 或是 fixed 中的一种；</li><li>元素在设置 z-index 的同时还设置了 float 浮动。解决：float 去除，改为 display：inline-block；</li></ul></div></details><details class="primary"><summary>元素层叠顺序</summary><div><p><img data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fbc59ae1adb5454c8c7f60582df10ff9~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="元素层叠顺序"></p></div></details><h2 id="手写"><a class="anchor" href="#手写">#</a> 手写</h2><details class="primary"><summary>解决文本溢出问题</summary><div><p></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 单行 */</span></span><br><span class="line"><span class="selector-class">.overflow</span>&#123;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;            <span class="comment">/* 溢出隐藏 */</span></span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;     <span class="comment">/* 溢出用省略号显示 */</span></span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;         <span class="comment">/* 规定段落中的文本不进行换行 */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 多行 */</span></span><br><span class="line"><span class="selector-class">.overflow-multiline</span>&#123;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;            <span class="comment">/* 溢出隐藏 */</span></span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;     <span class="comment">/* 溢出用省略号显示 */</span></span><br><span class="line">  <span class="attribute">display</span>:-webkit-box;         <span class="comment">/* 作为弹性伸缩盒子模型显示。 */</span></span><br><span class="line">  -webkit-<span class="attribute">box-orient</span>:vertical; <span class="comment">/* 设置伸缩盒子的子元素排列方式：从上到下垂直排列 */</span></span><br><span class="line">  -webkit-<span class="selector-tag">line</span>-clamp:<span class="number">3</span>;        <span class="comment">/* 显示的行数 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p></div></details><details class="primary"><summary>清除浮动</summary><div><ol><li>末尾空标签 style 设置 clear：both</li><li>overflow：hidden</li><li>伪元素设置</li></ol><p></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">  <span class="attribute">content</span>:<span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="attribute">height</span>:<span class="number">0</span>;</span><br><span class="line">  <span class="attribute">visibility</span>:hidden;</span><br><span class="line">  <span class="attribute">display</span>:block;</span><br><span class="line">  <span class="attribute">clear</span>:both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p></div></details><details class="primary"><summary>实现一个dialog(可拖拽)</summary><div><p></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dialog</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">text</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">lastX</span> = <span class="number">0</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">lastY</span> = <span class="number">0</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">text</span> = text || <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">isMoving</span> = <span class="literal">false</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dialog</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">open</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> model = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">    model.<span class="property">id</span>=<span class="string">&#x27;model&#x27;</span></span><br><span class="line">    model.<span class="property">style</span> = <span class="string">`</span></span><br><span class="line"><span class="string">    position:absolute;</span></span><br><span class="line"><span class="string">    top:0;</span></span><br><span class="line"><span class="string">    left:0;</span></span><br><span class="line"><span class="string">    bottom:0;</span></span><br><span class="line"><span class="string">    right:0;</span></span><br><span class="line"><span class="string">    background-color:rgba(0,0,0,.3);</span></span><br><span class="line"><span class="string">    display:flex;</span></span><br><span class="line"><span class="string">    justify-content: center;</span></span><br><span class="line"><span class="string">    align-items: center;`</span></span><br><span class="line">    model.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="variable language_">this</span>.<span class="property">close</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>))</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(model)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dialog</span> = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dialog</span>.<span class="property">style</span> = <span class="string">`</span></span><br><span class="line"><span class="string">    padding:20px;</span></span><br><span class="line"><span class="string">    background-color:white`</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dialog</span>.<span class="property">innerText</span> = <span class="variable language_">this</span>.<span class="property">text</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dialog</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="params">e</span>=&gt;</span>&#123;e.<span class="title function_">stopPropagation</span>()&#125;)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dialog</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousedown&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleMousedown</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>))</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleMousemove</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>))</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseup&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleMouseup</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>))</span><br><span class="line">    model.<span class="title function_">appendChild</span>(<span class="variable language_">this</span>.<span class="property">dialog</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">close</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dialog</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;mousedown&#x27;</span>,<span class="variable language_">this</span>.<span class="property">handleMousedown</span>)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleMousemove</span>)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;mouseup&#x27;</span>,<span class="variable language_">this</span>.<span class="property">handleMouseup</span>)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#model&#x27;</span>)) </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">handleMousedown</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">isMoving</span> = <span class="literal">true</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = e.<span class="property">clientX</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = e.<span class="property">clientY</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">handleMousemove</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">isMoving</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">dialog</span>.<span class="property">style</span>.<span class="property">transform</span> = <span class="string">`translate(<span class="subst">$&#123;e.clientX - <span class="variable language_">this</span>.x + <span class="variable language_">this</span>.lastX&#125;</span>px,<span class="subst">$&#123;e.clientY - <span class="variable language_">this</span>.y + <span class="variable language_">this</span>.lastY&#125;</span>px)`</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">handleMouseup</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">lastX</span> = e.<span class="property">clientX</span> - <span class="variable language_">this</span>.<span class="property">x</span> + <span class="variable language_">this</span>.<span class="property">lastX</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">lastY</span> = e.<span class="property">clientY</span> - <span class="variable language_">this</span>.<span class="property">y</span> + <span class="variable language_">this</span>.<span class="property">lastY</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">isMoving</span> = <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> dialog = <span class="keyword">new</span> <span class="title class_">Dialog</span>(<span class="string">&#x27;Hello&#x27;</span>)</span><br><span class="line">dialog.<span class="title function_">open</span>()</span><br></pre></td></tr></table></figure><p></p></div></details></div><footer><div class="meta"><span id="interview/CSS.html" class="item leancloud_visitors" data-flag-title="CSS" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/mublog/images/wechatpay.png" alt="EvilMoOd 微信支付"><p>微信支付</p></div><div><img data-src="/mublog/images/alipay.png" alt="EvilMoOd 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>EvilMoOd <i class="ic i-at"><em>@</em></i>木糖不爱吃糖</li><li class="link"><strong>本文链接：</strong> <a href="https://evilmood.github.io/mublog/interview/CSS.html" title="CSS">https://evilmood.github.io/mublog/interview/CSS.html</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%8B%E5%86%99"><span class="toc-number">2.</span> <span class="toc-text">手写</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="EvilMoOd" data-src="/mublog/images/avatar.jpg"><p class="name" itemprop="name">EvilMoOd</p><div class="description" itemprop="description">摸鱼是第一生产力</div></div><nav class="state"><div class="item posts"><a href="/mublog/archives/"><span class="count">27</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/mublog/categories/"><span class="count">15</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/mublog/tags/"><span class="count">25</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0V2aWxNb09k" title="https:&#x2F;&#x2F;github.com&#x2F;EvilMoOd"><i class="ic i-github"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTM1Mzg4MjQ0Ng==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;353882446"><i class="ic i-cloud-music"></i></span> <span class="exturl item youtube" data-url="aHR0cHM6Ly9zcGFjZS5iaWxpYmlsaS5jb20vMjk2NDA4NDQ/c3BtX2lkX2Zyb209MzMzLjMzNy4wLjA=" title="https:&#x2F;&#x2F;space.bilibili.com&#x2F;29640844?spm_id_from&#x3D;333.337.0.0"><i class="ic i-youtube"></i></span></div><ul class="menu"><li class="item"><a href="/mublog/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/mublog/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/mublog/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/mublog/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-coffee"></i>品鉴</a><ul class="submenu"><li class="item"><a href="/mublog/games" rel="section"><i class="ic i-game"></i>电玩</a></li><li class="item"><a href="/mublog/movies" rel="section"><i class="ic i-play"></i>电影</a></li><li class="item"><a href="/mublog/books" rel="section"><i class="ic i-tag"></i>书架</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-pen"></i>面筋</a><ul class="submenu"><li class="item"><a href="/mublog/interview/Network" rel="section"><i class="ic i-coffee"></i>Network</a></li><li class="item"><a href="/mublog/interview/HTML" rel="section"><i class="ic i-coffee"></i>HTML</a></li><li class="item"><a href="/mublog/interview/CSS" rel="section"><i class="ic i-coffee"></i>CSS</a></li><li class="item"><a href="/mublog/interview/JavaScript" rel="section"><i class="ic i-coffee"></i>JavaScript</a></li><li class="item"><a href="/mublog/interview/engineer" rel="section"><i class="ic i-coffee"></i>工程化</a></li></ul></li><li class="item"><a href="https://evilmood.github.io/" rel="section"><i class="ic i-user"></i>关于</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/mublog/categories/%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" title="分类于 源码解析">源码解析</a></div><span><a href="/mublog/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/%E8%A7%A3%E6%9E%90MessageBox/" title="源码解析--MessageBox组件">源码解析--MessageBox组件</a></span></li><li class="item"><div class="breadcrumb"><a href="/mublog/categories/%E4%B8%AA%E4%BA%BA%E6%9D%82%E8%B0%88/" title="分类于 个人杂谈">个人杂谈</a></div><span><a href="/mublog/talk/2024%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/" title="2024年终总结">2024年终总结</a></span></li><li class="item"><div class="breadcrumb"><a href="/mublog/categories/JavaScript/" title="分类于 JavaScript">JavaScript</a></div><span><a href="/mublog/JavaScript/%E6%B7%B1%E5%85%A5%E5%87%BD%E6%95%B0/" title="深入函数">深入函数</a></span></li><li class="item"><div class="breadcrumb"><a href="/mublog/categories/%E4%B8%AA%E4%BA%BA%E6%9D%82%E8%B0%88/" title="分类于 个人杂谈">个人杂谈</a></div><span><a href="/mublog/talk/%E4%B8%80%E4%BA%9B%E7%AF%AE%E7%90%83%E6%96%B9%E9%9D%A2%E7%9A%84%E6%80%9D%E8%80%83/" title="一些篮球方面的思考">一些篮球方面的思考</a></span></li><li class="item"><div class="breadcrumb"><a href="/mublog/categories/%E8%BD%AE%E5%AD%90/" title="分类于 轮子">轮子</a></div><span><a href="/mublog/util/useAxios/" title="useAxios">useAxios</a></span></li><li class="item"><div class="breadcrumb"><a href="/mublog/categories/%E4%B8%AA%E4%BA%BA%E6%9D%82%E8%B0%88/" title="分类于 个人杂谈">个人杂谈</a></div><span><a href="/mublog/talk/%E5%89%8D%E7%AB%AF%E5%85%A5%E5%9D%91%E6%8C%87%E5%8D%97/" title="前端入坑指南">前端入坑指南</a></span></li><li class="item"><div class="breadcrumb"><a href="/mublog/categories/%E4%B8%AA%E4%BA%BA%E6%9D%82%E8%B0%88/" title="分类于 个人杂谈">个人杂谈</a></div><span><a href="/mublog/talk/%E4%B8%80%E5%B9%B4%E5%89%8D%E7%AB%AF%E7%BB%83%E4%B9%A0%E7%94%9F%E7%9A%84%E4%B8%80%E7%82%B9%E6%80%BB%E7%BB%93/" title="一年前端练习生的年终总结">一年前端练习生的年终总结</a></span></li><li class="item"><div class="breadcrumb"><a href="/mublog/categories/react/" title="分类于 react">react</a></div><span><a href="/mublog/react/Fiber%E6%9E%B6%E6%9E%84%E8%A7%A3%E6%9E%90/" title="Fiber架构解析">Fiber架构解析</a></span></li><li class="item"><div class="breadcrumb"><a href="/mublog/categories/CSS/" title="分类于 CSS">CSS</a></div><span><a href="/mublog/CSS_/antdv%E5%85%A8%E5%B1%80%E4%BF%AE%E6%94%B9%E7%BB%84%E4%BB%B6%E6%A0%B7%E5%BC%8F/" title="antdv全局修改组件样式">antdv全局修改组件样式</a></span></li><li class="item"><div class="breadcrumb"><a href="/mublog/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" title="分类于 开发工具">开发工具</a></div><span><a href="/mublog/util/VSCode%E6%8F%92%E4%BB%B6%E6%8E%A8%E8%8D%90/" title="VSCode插件推荐">VSCode插件推荐</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2022 – <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">EvilMoOd @ Evil MoOd</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">82k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">1:14</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"interview/CSS",favicon:{show:"（●´3｀●）嗯？Yeah~",hide:"(´Д｀)WTF?"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/mublog/js/app.js?v=0.2.5"></script><script src="/mublog/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/mublog/live2dw/assets/wanko.model.json"},display:{position:"right",width:150,height:300},mobile:{show:!0},react:{opacity:.7},log:!1})</script></body></html>